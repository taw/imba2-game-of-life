
var Ni=Symbol.for("#__initor__"),Ei=Symbol.for("#__inited__"),vi=Symbol.for("#__hooks__"),Oi=Symbol.for("#type"),lt=Symbol.for("#__listeners__");function Y(s){let t=typeof s;if(t=="number")return s;if(t=="string"){if(/^\d+fps$/.test(s))return 1e3/parseFloat(s);if(/^([-+]?[\d\.]+)s$/.test(s))return parseFloat(s)*1e3;if(/^([-+]?[\d\.]+)ms$/.test(s))return parseFloat(s)}return null}function ut(s,t,e){if(!s)return;let r=Object.getOwnPropertyDescriptor(s,t);return r||s==e?r||void 0:ut(Reflect.getPrototypeOf(s),t,e)}var de=function(s,t,e){let r,i,n;for(;(r=e)&&(e=e.next);)(i=e.listener)&&(e.path&&i[e.path]?n=t?i[e.path].apply(i,t):i[e.path]():n=t?i.apply(e,t):i.call(e)),e.times&&--e.times<=0&&(r.next=e.next,e.listener=null)};function Mt(s,t,e,r){var i;let n,o,l;return n=s[lt]||(s[lt]={}),o=n[t]||(n[t]={}),l=o.tail||(o.tail=o.next={}),l.listener=e,l.path=r,o.tail=l.next={},l}function J(s,t,e){let r=Mt(s,t,e);return r.times=1,r}function me(s,t,e,r){let i,n,o=s[lt];if(!!o&&(i=o[t])){for(;(n=i)&&(i=i.next);)if(i==e||i.listener==e){n.next=i.next,i.listener=null;break}}}function z(s,t,e){let r;(r=s[lt])&&(r[t]&&de(t,e,r[t]),r.all&&de(t,[t,e],r.all))}function ps(s){let t;return s?(t=s.toIterable)?t.call(s):s:[]}var pe=Symbol.for("#__init__"),Pi=Symbol.for("#__initor__"),Di=Symbol.for("#__inited__"),ki=Symbol.for("#__hooks__"),ge=Symbol.for("#schedule"),Lt=Symbol.for("#frames"),ht=Symbol.for("#interval"),U=Symbol.for("#stage"),G=Symbol.for("#scheduled"),ct=Symbol.for("#version"),gs=Symbol.for("#fps"),$e=Symbol.for("#ticker"),$s=globalThis.requestAnimationFrame||function(s){return globalThis.setTimeout(s,1e3/60)};var Ii=1/60,ye=class{constructor(t=null){this[pe](t)}[pe](t=null){var e;this.owner=t&&(e=t.owner)!==void 0?e:null,this.target=t&&(e=t.target)!==void 0?e:null,this.active=t&&(e=t.active)!==void 0?e:!1,this.value=t&&(e=t.value)!==void 0?e:void 0,this.skip=t&&(e=t.skip)!==void 0?e:0,this.last=t&&(e=t.last)!==void 0?e:0}tick(t,e){return this.last=this.owner[Lt],this.target.tick(this,e),1}update(t,e){let r=this.active,i=t.value;return this.value!=i&&(this.deactivate(),this.value=i),(this.value||r||e)&&this.activate(),this}queue(){this.owner.add(this)}activate(){return this.value===!0?this.owner.on("commit",this):this.value===!1||typeof this.value=="number"&&(this.value/(1e3/60)<=2?this.owner.on("raf",this):this[ht]=globalThis.setInterval(this.queue.bind(this),this.value)),this.active=!0,this}deactivate(){return this.value===!0&&this.owner.un("commit",this),this.owner.un("raf",this),this[ht]&&(globalThis.clearInterval(this[ht]),this[ht]=null),this.active=!1,this}},be=class{constructor(){var t=this;this.id=Symbol(),this.queue=[],this.stage=-1,this[U]=-1,this[Lt]=0,this[G]=!1,this[ct]=0,this.listeners={},this.intervals={},t.commit=function(){return t.add("commit"),t},this[gs]=0,t.$promise=null,t.$resolve=null,this[$e]=function(e){return t[G]=!1,t.tick(e)}}touch(){return this[ct]++}get version(){return this[ct]}add(t,e){return(e||this.queue.indexOf(t)==-1)&&this.queue.push(t),this[G]||this[ge](),this}get committing\u03A6(){return this.queue.indexOf("commit")>=0}get syncing\u03A6(){return this[U]==1}listen(t,e){let r=this.listeners[t],i=!r;return r||(r=this.listeners[t]=new Set),r.add(e),t=="raf"&&i&&this.add("raf"),this}unlisten(t,e){var r;let i=this.listeners[t];return i&&i.delete(e),t=="raf"&&i&&i.size==0&&(r=this.listeners.raf,delete this.listeners.raf),this}on(t,e){return this.listen(t,e)}un(t,e){return this.unlisten(t,e)}get promise(){var t=this;return t.$promise||(t.$promise=new Promise(function(e){return t.$resolve=e}))}tick(t){var e=this;let r=this.queue,i=this[Lt]++;if(this.ts||(this.ts=t),this.dt=t-this.ts,this.ts=t,this.queue=[],this[U]=1,this[ct]++,r.length)for(let n=0,o=ps(r),l=o.length;n<l;n++){let u=o[n];typeof u=="string"&&this.listeners[u]?e.listeners[u].forEach(function(c){if(c.tick instanceof Function)return c.tick(e,u);if(c instanceof Function)return c(e,u)}):u instanceof Function?u(e.dt,e):u.tick&&u.tick(e.dt,e)}return this[U]=this[G]?0:-1,e.$promise&&(e.$resolve(e),e.$promise=e.$resolve=null),e.listeners.raf&&e.add("raf"),e}[ge](){return this[G]||(this[G]=!0,this[U]==-1&&(this[U]=0),$s(this[$e])),this}schedule(t,e){var r,i;return e||(e=t[r=this.id]||(t[r]={value:!0})),(e[i=this.id]||(e[i]=new ye({owner:this,target:t}))).update(e,!0)}unschedule(t,e={}){e||(e=t[this.id]);let r=e&&e[this.id];return r&&r.active&&r.deactivate(),this}},T=new be;function jt(){return T.add("commit").promise}function ys(s,t){return globalThis.setTimeout(function(){s(),jt()},t)}function Rt(s,t){return globalThis.setInterval(function(){s(),jt()},t)}var bs=globalThis.clearInterval,_s=globalThis.clearTimeout,X=globalThis.imba||(globalThis.imba={});X.commit=jt;X.setTimeout=ys;X.setInterval=Rt;X.clearInterval=bs;X.clearTimeout=_s;var _e=Symbol.for("#toStringDeopt"),Li=Symbol.for("#__initor__"),ji=Symbol.for("#__inited__"),Ri=Symbol.for("#__hooks__"),xe=Symbol.for("#symbols"),Se=Symbol.for("#batches"),we=Symbol.for("#extras"),Ce=Symbol.for("#stacks"),Z=class{constructor(t){this.dom=t,this.string=""}contains(t){return this.dom.classList.contains(t)}add(t){return this.contains(t)?this:(this.string+=(this.string?" ":"")+t,this.dom.classList.add(t),this)}remove(t){if(!this.contains(t))return this;let e=new RegExp("(^|\\s)"+t+"(?=\\s|$)","g");return this.string=this.string.replace(e,""),this.dom.classList.remove(t),this}toggle(t,e){return e===void 0&&(e=!this.contains(t)),e?this.add(t):this.remove(t)}incr(t,e=0){var r=this;let i=this.stacks,n=i[t]||0;return n<1&&this.add(t),e>0&&setTimeout(function(){return r.decr(t)},e),i[t]=Math.max(n,0)+1}decr(t){let e=this.stacks,r=e[t]||0;return r==1&&this.remove(t),e[t]=Math.max(r,1)-1}reconcile(t,e){let r=this[xe],i=this[Se],n=!0;if(!r)r=this[xe]=[t],i=this[Se]=[e||""],this.toString=this.valueOf=this[_e];else{let o=r.indexOf(t),l=e||"";o==-1?(r.push(t),i.push(l)):i[o]!=l?i[o]=l:n=!1}n&&(this[we]=" "+i.join(" "),this.sync())}valueOf(){return this.string}toString(){return this.string}[_e](){return this.string+(this[we]||"")}sync(){return this.dom.flagSync$()}get stacks(){return this[Ce]||(this[Ce]={})}};var at=Symbol.for("#__init__"),Te=Symbol.for("#__initor__"),Ne=Symbol.for("#__inited__"),Ee=Symbol.for("#__hooks__"),Ht=Symbol.for("#getRenderContext"),xs=Symbol.for("#getDynamicContext"),ve=Symbol(),E={context:null},Oe=class{constructor(t=null){this[at](t)}[at](t=null){var e;this.stack=t&&(e=t.stack)!==void 0?e:[]}push(t){return this.stack.push(t)}pop(t){return this.stack.pop()}},Ai=new Oe,M=class extends Map{static[at](){return this.prototype[Te]=ve,this}constructor(t,e=null){super();this._=t,this.sym=e,this[Te]===ve&&(this[Ee]&&this[Ee].inited(this),this[Ne]&&this[Ne]())}pop(){return E.context=null}[Ht](t){let e=this.get(t);return e||this.set(t,e=new M(this._,t)),E.context=e}[xs](t,e){return this[Ht](t)[Ht](e)}run(t){return this.value=t,E.context==this&&(E.context=null),this.get(t)}cache(t){return this.set(this.value,t),t}};M[at]();function Fe(s,t=Symbol(),e=s){return E.context=s[t]||(s[t]=new M(e,t))}function Pe(){let s=E.context,t=s||new M(null);return s&&(E.context=null),t}function tt(s,t){let e=Object.getOwnPropertyDescriptors(t);return delete e.constructor,Object.defineProperties(s,e),s}function Ss(s){let t;return s?(t=s.toIterable)?t.call(s):s:[]}var ft=Symbol.for("#parent"),De=Symbol.for("#closestNode"),ws=Symbol.for("#parentNode"),Cs=Symbol.for("#context"),ke=Symbol.for("#__init__"),Ie=Symbol.for("##inited"),At=Symbol.for("#getRenderContext"),Ts=Symbol.for("#getDynamicContext"),Me=Symbol.for("#insertChild"),qt=Symbol.for("#appendChild"),Bt=Symbol.for("#replaceChild"),Le=Symbol.for("#removeChild"),L=Symbol.for("#insertInto"),je=Symbol.for("#insertIntoDeopt"),et=Symbol.for("#removeFrom"),Re=Symbol.for("#removeFromDeopt"),K=Symbol.for("#replaceWith"),He=Symbol.for("#replaceWithDeopt"),Vt=Symbol.for("#placeholderNode"),Ns=Symbol.for("#attachToParent"),Es=Symbol.for("#detachFromParent"),vs=Symbol.for("#placeChild"),Os=Symbol.for("#beforeReconcile"),Fs=Symbol.for("#afterReconcile"),Ps=Symbol.for("#afterVisit"),Ae=Symbol.for("##parent"),Ds=Symbol.for("##up"),qe=Symbol.for("##context"),H=Symbol.for("#domNode"),dt=Symbol.for("##placeholderNode"),Be=Symbol.for("#domDeopt"),ks=Symbol.for("#isRichElement"),Ve=Symbol.for("#src"),mt=Symbol.for("#htmlNodeName"),Is=Symbol.for("#getSlot"),Gi=Symbol.for("#ImbaElement"),ze=Symbol.for("#cssns"),Ms=Symbol.for("#cssid"),{Event:A,UIEvent:Ki,MouseEvent:Ue,PointerEvent:Wi,KeyboardEvent:Ge,CustomEvent:pt,Node:q,Comment:gt,Text:zt,Element:v,HTMLElement:$t,HTMLHtmlElement:Qi,HTMLSelectElement:Yi,HTMLInputElement:Ji,HTMLTextAreaElement:Xi,HTMLButtonElement:Zi,HTMLOptionElement:tn,HTMLScriptElement:en,SVGElement:Ke,DocumentFragment:rn,ShadowRoot:sn,Document:Ls,Window:nn,customElements:on}=globalThis.window,We={};function Qe(s,t,e){if(!s)return e[t]=null;if(e[t]!==void 0)return e[t];let r=Object.getOwnPropertyDescriptor(s,t);return r!==void 0||s==Ke?e[t]=r||null:Qe(Reflect.getPrototypeOf(s),t,e)}var Ut={},Gt={},js={},Kt={};var Rs={get(s,t){let e=s,r;for(;e&&r==null;)(e=e[ft])&&(r=e[t]);return r},set(s,t,e){let r=s,i;for(;r&&i==null;){if(ut(r,t,v))return r[t]=e,!0;r=r[ft]}return!0}},Ye=class{get flags(){return this.documentElement.flags}};tt(Ls.prototype,Ye.prototype);var Je=class{get[ft](){return this[Ae]||this.parentNode||this[Ds]}get[De](){return this}get[ws](){return this[ft][De]}get[Cs](){return this[qe]||(this[qe]=new Proxy(this,Rs))}[ke](){return this}[Ie](){return this}[At](t){return Fe(this,t)}[Ts](t,e){return this[At](t)[At](e)}[Me](t,e){return t[L](this,e)}[qt](t){return t[L](this,null)}[Bt](t,e){let r=this[Me](t,e);return this[Le](e),r}[Le](t){return t[et](this)}[L](t,e=null){return e?t.insertBefore(this,e):t.appendChild(this),this}[je](t,e){return e?t.insertBefore(this[H]||this,e):t.appendChild(this[H]||this),this}[et](t){return t.removeChild(this)}[Re](t){return t.removeChild(this[H]||this)}[K](t,e){return e[Bt](t,this)}[He](t,e){return e[Bt](t,this[H]||this)}get[Vt](){return this[dt]||(this[dt]=globalThis.document.createComment("placeholder"))}set[Vt](t){let e=this[dt];this[dt]=t,e&&e!=t&&e.parentNode&&e[K](t)}[Ns](){let t=this[H],e=t&&t.parentNode;return t&&e&&t!=this&&(this[H]=null,this[L](e,t),t[et](e)),this}[Es](){(this[Be]!=!0?(this[Be]=!0,!0):!1)&&(this[K]=this[He],this[et]=this[Re],this[L]=this[je]);let t=this[Vt];return this.parentNode&&t!=this&&(t[L](this.parentNode,this),this[et](this.parentNode)),this[H]=t,this}[vs](t,e,r){let i=typeof t;if(i==="undefined"||t===null){if(r&&r instanceof gt)return r;let n=globalThis.document.createComment("");return r?r[K](n,this):n[L](this,null)}if(t===r)return t;if(i!=="object"){let n,o=t;return e&128&&e&256,r?r instanceof zt?(r.textContent=o,r):(n=globalThis.document.createTextNode(o),r[K](n,this),n):(this.appendChild(n=globalThis.document.createTextNode(o)),n)}else return r?r[K](t,this):t[L](this,null)}};tt(q.prototype,Je.prototype);var Xe=class{log(...t){return console.log(...t),this}emit(t,e,r={bubbles:!0,cancelable:!0}){e!=null&&(r.detail=e);let i=new pt(t,r),n=this.dispatchEvent(i);return i}text$(t){return this.textContent=t,this}[Os](){return this}[Fs](){return this}[Ps](){this.render&&this.render()}get flags(){return this.$flags||(this.$flags=new Z(this),this.flag$==v.prototype.flag$&&(this.flags$ext=this.className),this.flagDeopt$()),this.$flags}flag$(t){let e=this.flags$ns;this.className=e?e+(this.flags$ext=t):this.flags$ext=t}flagDeopt$(){var t=this;this.flag$=this.flagExt$,t.flagSelf$=function(e){return t.flagSync$(t.flags$own=e)}}flagExt$(t){return this.flagSync$(this.flags$ext=t)}flagSelf$(t){return this.flagDeopt$(),this.flagSelf$(t)}flagSync$(){return this.className=(this.flags$ns||"")+(this.flags$ext||"")+" "+(this.flags$own||"")+" "+(this.$flags||"")}set$(t,e){let r=ut(this,t,v);!r||!r.set?this.setAttribute(t,e):this[t]=e}get richValue(){return this.value}set richValue(t){this.value=t}};tt(v.prototype,Xe.prototype);v.prototype.setns$=v.prototype.setAttributeNS;v.prototype[ks]=!0;function B(s,t,e,r){let i=globalThis.document.createElement(s);return e&&(i.className=e),r!==null&&i.text$(r),t&&t[qt]&&t[qt](i),i}var Ze=class{set$(t,e){var r;let i=We[r=this.nodeName]||(We[r]={}),n=Qe(this,t,i);!n||!n.set?this.setAttribute(t,e):this[t]=e}flag$(t){let e=this.flags$ns;this.setAttribute("class",e?e+(this.flags$ext=t):this.flags$ext=t)}flagSelf$(t){var e=this;return e.flag$=function(r){return e.flagSync$(e.flags$ext=r)},e.flagSelf$=function(r){return e.flagSync$(e.flags$own=r)},e.flagSelf$(t)}flagSync$(){return this.setAttribute("class",(this.flags$ns||"")+(this.flags$ext||"")+" "+(this.flags$own||"")+" "+(this.$flags||""))}};tt(Ke.prototype,Ze.prototype);var tr=class{set src(t){if((this[Ve]!=t?(this[Ve]=t,!0):!1)&&t){if(t.adoptNode)t.adoptNode(this);else if(t.content){for(let e=t.attributes,r=0,i=Object.keys(e),n=i.length,o,l;r<n;r++)o=i[r],l=e[o],this.setAttribute(o,l);this.innerHTML=t.content}}}};tt(SVGSVGElement.prototype,tr.prototype);function rt(s){return globalThis.document.createComment(s)}function Wt(s){return globalThis.document.createTextNode(s)}var yt=globalThis.navigator,Hs=yt&&yt.vendor||"",er=yt&&yt.userAgent||"",As=Hs.indexOf("Apple")>-1||er.indexOf("CriOS")>=0||er.indexOf("FxiOS")>=0,bt=!As,rr=new Map,sr=class extends $t{connectedCallback(){return bt?this.parentNode.removeChild(this):this.parentNode.connectedCallback()}disconnectedCallback(){if(!bt)return this.parentNode.disconnectedCallback()}};window.customElements.define("i-hook",sr);function qs(s,t){let e=rr.get(t);if(!e){e={};let r=t.prototype,i=[r];for(;(r=r&&Object.getPrototypeOf(r))&&r.constructor!=s.constructor;)i.unshift(r);for(let n=0,o=Ss(i),l=o.length;n<l;n++){let u=o[n],c=Object.getOwnPropertyDescriptors(u);Object.assign(e,c)}rr.set(t,e)}return e}function Qt(s,t,e,r,i){let n;typeof s!="string"&&s&&s.nodeName&&(s=s.nodeName);let o=Gt[s]||s;if(Ut[s]){let l=Ut[s],u=l.prototype[mt];if(u&&bt)n=globalThis.document.createElement(u,{is:s});else if(l.create$&&u){n=globalThis.document.createElement(u),n.setAttribute("is",o);let c=qs(n,l);Object.defineProperties(n,c),n.__slots={},n.appendChild(globalThis.document.createElement("i-hook"))}else l.create$?(n=l.create$(n),n.__slots={}):console.warn("could not create tag "+s)}else n=globalThis.document.createElement(Gt[s]||s);return n[Ae]=t,n[ke](),n[Ie](),r!==null&&n[Is]("__").text$(r),(e||n.flags$ns)&&n.flag$(e||""),n}function Yt(s,t,e={}){js[s]=Kt[s]=t,t.nodeName=s;let r=s,i=t.prototype;if(s.indexOf("-")==-1&&(r=""+s+"-tag",Gt[s]=r),e.cssns){let n=(i._ns_||i[ze]||"")+" "+(e.cssns||"");i._ns_=n.trim()+" ",i[ze]=e.cssns}if(e.cssid){let n=(i.flags$ns||"")+" "+e.cssid;i[Ms]=e.cssid,i.flags$ns=n.trim()+" "}return i[mt]&&!e.extends&&(e.extends=i[mt]),e.extends?(i[mt]=e.extends,Ut[s]=t,bt&&window.customElements.define(r,t,{extends:e.extends})):window.customElements.define(r,t),t}var Bs=globalThis.imba||(globalThis.imba={});Bs.document=globalThis.document;function Jt(s){let t;return s?(t=s.toIterable)?t.call(s):s:[]}function Vs(s,t){let e=Object.getOwnPropertyDescriptors(t);return delete e.constructor,Object.defineProperties(s,e),s}var _t=Symbol.for("#parent"),ir=Symbol.for("#closestNode"),zs=Symbol.for("#isRichElement"),Us=Symbol.for("#afterVisit"),nr=Symbol.for("#__initor__"),or=Symbol.for("#__inited__"),lr=Symbol.for("#__hooks__"),ur=Symbol.for("#appendChild"),hr=Symbol.for("#removeChild"),P=Symbol.for("#insertInto"),xt=Symbol.for("#replaceWith"),cr=Symbol.for("#insertChild"),St=Symbol.for("#removeFrom"),ar=Symbol.for("#placeChild"),fr=Symbol.for("#__init__"),Gs=Symbol.for("#registerFunctionalSlot"),Ks=Symbol.for("#getFunctionalSlot"),dr=Symbol.for("#getSlot"),Xt=Symbol.for("##parent"),wt=Symbol.for("##up"),mr=Symbol.for("##flags"),Ws=Symbol.for("#domFlags"),O=Symbol.for("#end"),pr=Symbol.for("#textContent"),Ct=Symbol.for("#textNode"),Zt=Symbol.for("#functionalSlots"),gr=Symbol();var st=class{constructor(){this.childNodes=[]}log(...t){}hasChildNodes(){return!1}set[_t](t){this[Xt]=t}get[_t](){return this[Xt]||this[wt]}get[ir](){return this[_t][ir]}get[zs](){return!0}get flags(){return this[mr]||(this[mr]=new Z(this))}flagSync$(){return this}[Us](){return this}},Qs=0,te=class extends st{static[fr](){return this.prototype[nr]=gr,this}constructor(t,e){super(...arguments);this[wt]=e,this.parentNode=null,this[Ws]=t,this.childNodes=[],this[O]=rt("slot"+Qs++),e&&e[ur](this),this[nr]===gr&&(this[lr]&&this[lr].inited(this),this[or]&&this[or]())}get[_t](){return this[Xt]||this.parentNode||this[wt]}set textContent(t){this[pr]=t}get textContent(){return this[pr]}hasChildNodes(){for(let t=0,e=Jt(this.childNodes),r=e.length;t<r;t++){let i=e[t];if(i instanceof st&&i.hasChildNodes())return!0;if(!(i instanceof gt)){if(i instanceof q)return!0}}return!1}text$(t){return this[Ct]?this[Ct].textContent=t:this[Ct]=this[ar](t),this[Ct]}appendChild(t){return this.parentNode&&t[P](this.parentNode,this[O]),this.childNodes.push(t)}[ur](t){return this.parentNode&&t[P](this.parentNode,this[O]),this.childNodes.push(t)}insertBefore(t,e){this.parentNode&&this.parentNode[cr](t,e);let r=this.childNodes.indexOf(e);return r>=0&&this.childNodes.splice(r,0,t),t}[hr](t){this.parentNode&&this.parentNode[hr](t);let e=this.childNodes.indexOf(t);e>=0&&this.childNodes.splice(e,1)}[P](t,e){let r=this.parentNode;if(this.parentNode!=t?(this.parentNode=t,!0):!1){this[O]&&(e=this[O][P](t,e));for(let i=0,n=Jt(this.childNodes),o=n.length;i<o;i++)n[i][P](t,e)}return this}[xt](t,e){let r=t[P](e,this[O]);return this[St](e),r}[cr](t,e){if(this.parentNode&&this.insertBefore(t,e||this[O]),e){let r=this.childNodes.indexOf(e);r>=0&&this.childNodes.splice(r,0,t)}else this.childNodes.push(t);return t}[St](t){for(let e=0,r=Jt(this.childNodes),i=r.length;e<i;e++)r[e][St](t);return this[O]&&this[O][St](t),this.parentNode=null,this}[ar](t,e,r){let i=this.parentNode,n=typeof t;if(n==="undefined"||t===null){if(r&&r instanceof gt)return r;let o=rt("");if(r){let l=this.childNodes.indexOf(r);return this.childNodes.splice(l,1,o),i&&r[xt](o,i),o}return this.childNodes.push(o),i&&o[P](i,this[O]),o}if(t===r)return t;if(n!=="object"){let o,l=t;if(r){if(r instanceof zt)return r.textContent=l,r;{o=Wt(l);let u=this.childNodes.indexOf(r);return this.childNodes.splice(u,1,o),i&&r[xt](o,i),o}}else return this.childNodes.push(o=Wt(l)),i&&o[P](i,this[O]),o}else if(r){let o=this.childNodes.indexOf(r);return this.childNodes.splice(o,1,t),i&&r[xt](t,i),t}else return this.childNodes.push(t),i&&t[P](i,this[O]),t}};te[fr]();function $r(s,t){let e=new te(s,null);return e[wt]=t,e}var yr=class{[Gs](t){let e=this[Zt]||(this[Zt]={});return e[t]||(e[t]=$r(0,this))}[Ks](t,e){let r=this[Zt];return r&&r[t]||this[dr](t,e)}[dr](t,e){var r;return t=="__"&&!this.render?this:(r=this.__slots)[t]||(r[t]=$r(0,this))}};Vs(q.prototype,yr.prototype);function Ys(s){let t;return s?(t=s.toIterable)?t.call(s):s:[]}var Js=Symbol.for("#afterVisit"),Tt=Symbol.for("#insertInto"),br=Symbol.for("#appendChild"),Xs=Symbol.for("#replaceWith"),ee=Symbol.for("#removeFrom"),_r=Symbol.for("#__initor__"),xr=Symbol.for("#__inited__"),Sr=Symbol.for("#__hooks__"),wr=Symbol.for("#__init__"),Zs=Symbol.for("#domFlags"),ti=Symbol.for("##parent"),j=Symbol.for("#end"),ei=Symbol.for("#removeChild"),ri=Symbol.for("#insertChild"),Cr=Symbol(),re=class extends st{static[wr](){return this.prototype[_r]=Cr,this}constructor(t,e){super(...arguments);this[Zs]=t,this[ti]=e,t&256||(this[j]=rt("list")),this.$=this.childNodes,this.length=0,e&&e[br](this),this[_r]===Cr&&(this[Sr]&&this[Sr].inited(this),this[xr]&&this[xr]())}hasChildNodes(){return this.length!=0}[Js](t){let e=this.length;if(this.length=t,e==t)return;let r=this.parentNode;if(!r)return;let i=this.childNodes,n=this[j];if(e>t)for(;e>t;)r[ei](i[--e]);else if(t>e)for(;t>e;)r[ri](i[e++],n);this.length=t}[Tt](t,e){this.parentNode=t,this[j]&&this[j][Tt](t,e),e=this[j];for(let r=0,i=Ys(this.childNodes),n=i.length;r<n;r++){let o=i[r];if(r==this.length)break;o[Tt](t,e)}return this}[br](t){}[Xs](t,e){let r=t[Tt](e,this[j]);return this[ee](e),r}[ee](t){let e=this.length;for(;e>0;)this.childNodes[--e][ee](t);this[j]&&t.removeChild(this[j]),this.parentNode=null}};re[wr]();function Tr(s,t){return new re(s,t)}function si(s){let t;return s?(t=s.toIterable)?t.call(s):s:[]}var Nt=Symbol.for("#__init__"),ii=Symbol.for("##inited"),ni=Symbol.for("#afterVisit"),oi=Symbol.for("#beforeReconcile"),li=Symbol.for("#afterReconcile"),se=Symbol.for("#count"),Nr=Symbol.for("#__hooks__"),W=Symbol.for("#autorender"),ui=new class{constructor(s=null){this[Nt](s)}[Nt](s=null){var t;this.items=s&&(t=s.items)!==void 0?t:[],this.current=s&&(t=s.current)!==void 0?t:null,this.lastQueued=s&&(t=s.lastQueued)!==void 0?t:null,this.tests=s&&(t=s.tests)!==void 0?t:0}flush(){let s=null;for(;s=this.items.shift();){if(!s.parentNode||s.hydrated\u03A6)continue;let t=this.current;this.current=s,s.__F|=1024,s.connectedCallback(),this.current=t}}queue(s){var t=this;let e=this.items.length,r=0,i=this.lastQueued;this.lastQueued=s;let n=q.DOCUMENT_POSITION_PRECEDING,o=q.DOCUMENT_POSITION_FOLLOWING;if(e){let l=this.items.indexOf(i),u=l,c=function(h,f){return t.tests++,h.compareDocumentPosition(f)};(l==-1||i.nodeName!=s.nodeName)&&(u=l=0);let a=t.items[u];for(;a&&c(a,s)&o;)a=t.items[++u];if(u!=l)a?t.items.splice(u,0,s):t.items.push(s);else{for(;a&&c(a,s)&n;)a=t.items[--u];u!=l&&(a?t.items.splice(u+1,0,s):t.items.unshift(s))}}else t.items.push(s),t.current||globalThis.queueMicrotask(t.flush.bind(t))}run(s){var t,e;if(this.active)return;this.active=!0;let r=globalThis.document.querySelectorAll(".__ssr");console.log("running hydrator",s,r.length,Array.from(r));for(let i=0,n=si(r),o=n.length;i<o;i++){let l=n[i];l[se]||(l[se]=1),l[se]++;let u=l.nodeName,c=(e=this.map)[u]||(e[u]=globalThis.window.customElements.get(u.toLowerCase())||$t);console.log("item type",u,c,!!Kt[u.toLowerCase()]),!(!l.connectedCallback||!l.parentNode||l.hydrated\u03A6)&&console.log("hydrate",l)}return this.active=!1}};var Et=class extends $t{constructor(){super();this.flags$ns&&(this.flag$=this.flagExt$),this.setup$(),this.build()}setup$(){return this.__slots={},this.__F=0}[Nt](){return this.__F|=1|2,this}[ii](){if(this[Nr])return this[Nr].inited(this)}flag$(t){this.className=this.flags$ext=t}build(){return this}awaken(){return this}mount(){return this}unmount(){return this}rendered(){return this}dehydrate(){return this}hydrate(){return this.autoschedule=!0,this}tick(){return this.commit()}visit(){return this.commit()}commit(){return this.render\u03A6?(this.__F|=256,this.render&&this.render(),this.rendered(),this.__F=(this.__F|512)&~256&~8192):(this.__F|=8192,this)}get autoschedule(){return(this.__F&64)!=0}set autoschedule(t){t?this.__F|=64:this.__F&=~64}set autorender(t){let e=this[W]||(this[W]={});e.value=t,this.mounted\u03A6&&T.schedule(this,e)}get render\u03A6(){return!this.suspended\u03A6}get mounting\u03A6(){return(this.__F&16)!=0}get mounted\u03A6(){return(this.__F&32)!=0}get awakened\u03A6(){return(this.__F&8)!=0}get rendered\u03A6(){return(this.__F&512)!=0}get suspended\u03A6(){return(this.__F&4096)!=0}get rendering\u03A6(){return(this.__F&256)!=0}get scheduled\u03A6(){return(this.__F&128)!=0}get hydrated\u03A6(){return(this.__F&2)!=0}get ssr\u03A6(){return(this.__F&1024)!=0}schedule(){return T.on("commit",this),this.__F|=128,this}unschedule(){return T.un("commit",this),this.__F&=~128,this}async suspend(t=null){let e=this.flags.incr("_suspended_");return this.__F|=4096,t instanceof Function&&(await t(),this.unsuspend()),this}unsuspend(){return this.flags.decr("_suspended_")==0&&(this.__F&=~4096,this.commit()),this}[ni](){return this.visit()}[oi](){return this.__F&1024&&(this.__F=this.__F&~1024,this.classList.remove("_ssr_"),this.flags$ext&&this.flags$ext.indexOf("_ssr_")==0&&(this.flags$ext=this.flags$ext.slice(5)),this.__F&512||(this.innerHTML="")),this}[li](){return this}connectedCallback(){let t=this.__F,e=t&1,r=t&8;if(!e&&!(t&1024)){ui.queue(this);return}if(t&(16|32))return;this.__F|=16,e||this[Nt](),t&2||(this.flags$ext=this.className,this.__F|=2,this.hydrate(),this.commit()),r||(this.awaken(),this.__F|=8),z(this,"mount");let i=this.mount();return i&&i.then instanceof Function&&i.then(T.commit),t=this.__F=(this.__F|32)&~16,t&64&&this.schedule(),this[W]&&T.schedule(this,this[W]),this}disconnectedCallback(){if(this.__F=this.__F&(~32&~16),this.__F&128&&this.unschedule(),z(this,"unmount"),this.unmount(),this[W])return T.unschedule(this,this[W])}};function hi(s,t){let e=Object.getOwnPropertyDescriptors(t);return delete e.constructor,Object.defineProperties(s,e),s}var Er=Symbol.for("#__init__"),_n=Symbol.for("#__initor__"),xn=Symbol.for("#__inited__"),Sn=Symbol.for("#__hooks__"),ci={cm:1,mm:1,Q:1,pc:1,pt:1,px:1,em:1,ex:1,ch:1,rem:1,vw:1,vh:1,vmin:1,vmax:1,s:1,ms:1,fr:1,"%":1,in:1,turn:1,grad:1,rad:1,deg:1,Hz:1,kHz:1};var vr={prefix:1,suffix:1,content:1},ie={rose:[[356,100,97],[356,100,95],[353,96,90],[353,96,82],[351,95,71],[350,89,60],[347,77,50],[345,83,41],[343,80,35],[342,75,30]],pink:[[327,73,97],[326,78,95],[326,85,90],[327,87,82],[329,86,70],[330,81,60],[333,71,51],[335,78,42],[336,74,35],[336,69,30]],fuchsia:[[289,100,98],[287,100,95],[288,96,91],[291,93,83],[292,91,73],[292,84,61],[293,69,49],[295,72,40],[295,70,33],[297,64,28]],purple:[[270,100,98],[269,100,95],[269,100,92],[269,97,85],[270,95,75],[271,91,65],[271,81,56],[272,72,47],[273,67,39],[274,66,32]],violet:[[250,100,98],[251,91,95],[251,95,92],[252,95,85],[255,92,76],[258,90,66],[262,83,58],[263,70,50],[263,69,42],[264,67,35]],indigo:[[226,100,97],[226,100,94],[228,96,89],[230,94,82],[234,89,74],[239,84,67],[243,75,59],[245,58,51],[244,55,41],[242,47,34]],blue:[[214,100,97],[214,95,93],[213,97,87],[212,96,78],[213,94,68],[217,91,60],[221,83,53],[224,76,48],[226,71,40],[224,64,33]],sky:[[204,100,97],[204,94,94],[201,94,86],[199,95,74],[198,93,60],[199,89,48],[200,98,39],[201,96,32],[201,90,27],[202,80,24]],cyan:[[183,100,96],[185,96,90],[186,94,82],[187,92,69],[188,86,53],[189,94,43],[192,91,36],[193,82,31],[194,70,27],[196,64,24]],teal:[[166,76,97],[167,85,89],[168,84,78],[171,77,64],[172,66,50],[173,80,40],[175,84,32],[175,77,26],[176,69,22],[176,61,19]],emerald:[[152,81,96],[149,80,90],[152,76,80],[156,72,67],[158,64,52],[160,84,39],[161,94,30],[163,94,24],[163,88,20],[164,86,16]],green:[[138,76,97],[141,84,93],[141,79,85],[142,77,73],[142,69,58],[142,71,45],[142,76,36],[142,72,29],[143,64,24],[144,61,20]],lime:[[78,92,95],[80,89,89],[81,88,80],[82,85,67],[83,78,55],[84,81,44],[85,85,35],[86,78,27],[86,69,23],[88,61,20]],yellow:[[55,92,95],[55,97,88],[53,98,77],[50,98,64],[48,96,53],[45,93,47],[41,96,40],[35,92,33],[32,81,29],[28,73,26]],amber:[[48,100,96],[48,96,89],[48,97,77],[46,97,65],[43,96,56],[38,92,50],[32,95,44],[26,90,37],[23,83,31],[22,78,26]],orange:[[33,100,96],[34,100,92],[32,98,83],[31,97,72],[27,96,61],[25,95,53],[21,90,48],[17,88,40],[15,79,34],[15,75,28]],red:[[0,86,97],[0,93,94],[0,96,89],[0,94,82],[0,91,71],[0,84,60],[0,72,51],[0,74,42],[0,70,35],[0,63,31]],warmer:[[60,9,98],[60,5,96],[20,6,90],[24,6,83],[24,5,64],[25,5,45],[33,5,32],[30,6,25],[12,6,15],[24,10,10]],warm:[[0,0,98],[0,0,96],[0,0,90],[0,0,83],[0,0,64],[0,0,45],[0,0,32],[0,0,25],[0,0,15],[0,0,9]],gray:[[0,0,98],[240,5,96],[240,6,90],[240,5,84],[240,5,65],[240,4,46],[240,5,34],[240,5,26],[240,4,16],[240,6,10]],cool:[[210,20,98],[220,14,96],[220,13,91],[216,12,84],[218,11,65],[220,9,46],[215,14,34],[217,19,27],[215,28,17],[221,39,11]],cooler:[[210,40,98],[210,40,96],[214,32,91],[213,27,84],[215,20,65],[215,16,47],[215,19,35],[215,25,27],[217,33,17],[222,47,11]]},ai=new RegExp("^("+Object.keys(ie).join("|")+")(\\d+(?:\\.\\d+)?)$"),fi=/^([xyz])$/,di=/^([tlbr]|size|[whtlbr]|[mps][tlbrxy]?|[rcxy]?[gs])$/,mi=`*,::before,::after {
box-sizing: border-box;
border-width: 0;
border-style: solid;
border-color: currentColor;
}`,Or=class{constructor(t=null){this[Er](t)}[Er](t=null){var e;this.entries=t&&(e=t.entries)!==void 0?e:{}}register(t,e){let r=this.entries[t];r?r&&(r.css=e,r.node&&(r.node.textContent=e)):(r=this.entries[t]={sourceId:t,css:e},this.entries.resets||this.register("resets",mi),r.node=globalThis.document.createElement("style"),r.node.setAttribute("data-id",t),r.node.textContent=r.css,globalThis.document.head.appendChild(r.node))}toString(){return Object.values(this.entries).map(function(t){return t.css}).join(`

`)}toValue(t,e,r,i=null){let n;vr[r]&&(t=String(t));let o=typeof t;if(o=="number"){if(e||(fi.test(r)?e="px":di.test(r)?e="u":r=="rotate"&&(e="turn",t=(t%1).toFixed(4))),e)return ci[e]?t+e:e=="u"?t*4+"px":"calc(var(--u_"+e+",1px) * "+t+")"}else if(o=="string"){if(r&&vr[r]&&t[0]!='"'&&t[0]!="'"&&(t.indexOf('"')>=0?t.indexOf("'")==-1&&(t="'"+t+"'"):t='"'+t+'"'),n=t.match(ai)){let u=ie[n[1]][parseInt(n[2])],c="100%";if(typeof i=="number"?c=i+"%":typeof i=="string"&&(c=i),u)return"hsla("+u[0]+","+u[1]+"%,"+u[2]+"%,"+c+")"}}else if(t&&t.toStyleString instanceof Function)return t.toStyleString();return t}parseDimension(t){if(typeof t=="string"){let[e,r,i]=t.match(/^([-+]?[\d\.]+)(%|\w+)$/);return[parseFloat(r),i]}else if(typeof t=="number")return[t]}},pi=new Or,wn=Object.keys(ie);function Fr(){return!0}var Pr=class{css$(t,e,r){return this.style[t]=e}css$var(t,e,r,i,n=null){let o=pi.toValue(e,r,i,n);this.style.setProperty(t,o)}};hi(v.prototype,Pr.prototype);var gi=Symbol.for("#insertInto"),Dr=Symbol.for("#removeFrom");function ne(s,t){let e=t||globalThis.document.body,r=s;if(s instanceof Function){let i=new M(e,null),n=function(){let o=E.context;E.context=i;let l=s(i);return E.context==i&&(E.context=o),l};r=n(),T.listen("commit",n)}else r.__F|=64;return r[gi](e),r}function $i(s){return s&&s[Dr]&&s[Dr](s.parentNode),s}var kr=globalThis.imba||(globalThis.imba={});kr.mount=ne;kr.unmount=$i;function yi(s,t){let e=Object.getOwnPropertyDescriptors(t);return delete e.constructor,Object.defineProperties(s,e),s}function Ir(){return!0}var Mr=class{\u03B1esc(){return this.keyCode==27}\u03B1tab(){return this.keyCode==9}\u03B1enter(){return this.keyCode==13}\u03B1space(){return this.keyCode==32}\u03B1up(){return this.keyCode==38}\u03B1down(){return this.keyCode==40}\u03B1left(){return this.keyCode==37}\u03B1right(){return this.keyCode==39}\u03B1del(){return this.keyCode==8||this.keyCode==46}\u03B1key(t){if(typeof t=="string")return this.key==t;if(typeof t=="number")return this.keyCode==t}};yi(Ge.prototype,Mr.prototype);function bi(s,t){let e=Object.getOwnPropertyDescriptors(t);return delete e.constructor,Object.defineProperties(s,e),s}function vt(){return!0}var Lr=class{\u03B1left(){return this.button==0}\u03B1middle(){return this.button==1}\u03B1right(){return this.button==2}\u03B1shift(){return!!this.shiftKey}\u03B1alt(){return!!this.altKey}\u03B1ctrl(){return!!this.ctrlKey}\u03B1meta(){return!!this.metaKey}\u03B1mod(){let t=globalThis.navigator.platform;return/^(Mac|iPhone|iPad|iPod)/.test(t||"")?!!this.metaKey:!!this.ctrlKey}};bi(Ue.prototype,Lr.prototype);function oe(s,t){let e=Object.getOwnPropertyDescriptors(t);return delete e.constructor,Object.defineProperties(s,e),s}function jr(s){let t;return s?(t=s.toIterable)?t.call(s):s:[]}var _i=Symbol.for("#extendType"),xi=Symbol.for("#modifierState"),Ot=Symbol.for("#sharedModifierState"),Rr=Symbol.for("#onceHandlerEnd"),Hn=Symbol.for("#__initor__"),An=Symbol.for("#__inited__"),qn=Symbol.for("#__hooks__"),Hr=Symbol.for("#extendDescriptors"),N=Symbol.for("#context"),Ar=Symbol.for("#self"),Si=Symbol.for("#target"),qr=Symbol.for("#stopPropagation"),Br=Symbol.for("#defaultPrevented");Ir();vt();var Vr=class{[_i](t){var e,r,i;let n=t[Hr]||(t[Hr]=(r=Object.getOwnPropertyDescriptors(t.prototype),i=r.constructor,delete r.constructor,r));return Object.defineProperties(this,n)}};oe(pt.prototype,Vr.prototype);var zr=class{get[xi](){var t,e;return(t=this[N])[e=this[N].step]||(t[e]={})}get[Ot](){var t,e;return(t=this[N].handler)[e=this[N].step]||(t[e]={})}[Rr](t){return J(this[N],"end",t)}\u03B1sel(t){return!!this.target.matches(String(t))}\u03B1closest(t){return!!this.target.closest(String(t))}\u03B1log(...t){return console.info(...t),!0}\u03B1trusted(){return!!this.isTrusted}\u03B1if(t){return!!t}\u03B1wait(t=250){return new Promise(function(e){return setTimeout(e,Y(t))})}\u03B1self(){return this.target==this[N].element}\u03B1cooldown(t=250){let e=this[Ot];return e.active?!1:(e.active=!0,e.target=this[N].element,e.target.flags.incr("cooldown"),this[Rr](function(){return setTimeout(function(){return e.target.flags.decr("cooldown"),e.active=!1},Y(t))}),!0)}\u03B1throttle(t=250){let e=this[Ot];return e.active?(e.next&&e.next(!1),new Promise(function(r){return e.next=function(i){return e.next=null,r(i)}})):(e.active=!0,e.el||(e.el=this[N].element),e.el.flags.incr("throttled"),J(this[N],"end",function(){let r=Y(t);return e.interval=setInterval(function(){e.next?e.next(!0):(clearInterval(e.interval),e.el.flags.decr("throttled"),e.active=!1)},r)}),!0)}\u03B1debounce(t=250){let e=this[Ot],r=this;return e.queue||(e.queue=[]),e.queue.push(e.last=r),new Promise(function(i){return setTimeout(function(){return e.last==r?(r.debounced=e.queue,e.last=null,e.queue=[],i(!0)):i(!1)},Y(t))})}\u03B1flag(t,e){let{element:r,step:i,state:n,id:o,current:l}=this[N],u=e instanceof v?e:e?r.closest(e):r;if(!u)return!0;this[N].commit=!0,n[i]=o,u.flags.incr(t);let c=Date.now();return J(l,"end",function(){let a=Date.now()-c,h=Math.max(250-a,0);return setTimeout(function(){return u.flags.decr(t)},h)}),!0}\u03B1busy(t){return this.\u03B1flag("busy",t)}\u03B1mod(t){return this.\u03B1flag("mod-"+t,globalThis.document.documentElement)}\u03B1outside(){let{handler:t}=this[N];if(t&&t[Ar])return!t[Ar].parentNode.contains(this.target)}};oe(A.prototype,zr.prototype);function Ur(){return!0}var Gr=class{constructor(t,e){this.params=t,this.closure=e}getHandlerForMethod(t,e){return t?t[e]?t:this.getHandlerForMethod(t.parentNode,e):null}emit(t,...e){return z(this,t,e)}on(t,...e){return Mt(this,t,...e)}once(t,...e){return J(this,t,...e)}un(t,...e){return me(this,t,...e)}get passive\u03A6(){return this.params.passive}get capture\u03A6(){return this.params.capture}get silent\u03A6(){return this.params.silent}get global\u03A6(){return this.params.global}async handleEvent(t){let e=this[Si]||t.currentTarget,r=this.params,i=null,n=r.silence||r.silent;this.count||(this.count=0),this.state||(this.state={});let o={element:e,event:t,modifiers:r,handler:this,id:++this.count,step:-1,state:this.state,commit:null,current:null};if(o.current=o,t.handle$mod&&t.handle$mod.apply(o,r.options||[])==!1)return;let l=A[this.type+"$handle"]||A[t.type+"$handle"]||t.handle$mod;if(!(l&&l.apply(o,r.options||[])==!1)){this.currentEvents||(this.currentEvents=new Set),this.currentEvents.add(t);for(let u=0,c=Object.keys(r),a=c.length,h,f;u<a;u++){if(h=c[u],f=r[h],o.step++,h[0]=="_")continue;h.indexOf("~")>0&&(h=h.split("~")[0]);let F=null,m=[t,o],d,g=null,V,D=!1,kt=typeof h=="string";if(h[0]=="$"&&h[1]=="_"&&f[0]instanceof Function)h=f[0],h.passive||(o.commit=!0),m=[t,o].concat(f.slice(1)),g=e;else if(f instanceof Array){m=f.slice(),F=m;for(let p=0,$=jr(m),k=$.length;p<k;p++){let I=$[p];if(typeof I=="string"&&I[0]=="~"&&I[1]=="$"){let Q=I.slice(2).split("."),ot=o[Q.shift()]||t;for(let It=0,fe=jr(Q),ds=fe.length;It<ds;It++){let ms=fe[It];ot=ot?ot[ms]:void 0}m[p]=ot}}}if(typeof h=="string"&&(V=h.match(/^(emit|flag|mod|moved|pin|fit|refit|map|remap|css)-(.+)$/))&&(F||(F=m=[]),m.unshift(V[2]),h=V[1]),h=="trap")t[qr]=!0,t.stopImmediatePropagation(),t[Br]=!0,t.preventDefault();else if(h=="stop")t[qr]=!0,t.stopImmediatePropagation();else if(h=="prevent")t[Br]=!0,t.preventDefault();else if(h=="commit")o.commit=!0;else if(h=="once")e.removeEventListener(t.type,this);else{if(h=="options"||h=="silence"||h=="silent")continue;if(h=="emit"){let p=m[0],$=m[1],k=new pt(p,{bubbles:!0,detail:$});k.originalEvent=t;let I=e.dispatchEvent(k)}else if(typeof h=="string"){h[0]=="!"&&(D=!0,h=h.slice(1));let p="\u03B1"+h,$=t[p];$||($=this.type&&A[this.type+"$"+h+"$mod"]),$||($=t[h+"$mod"]||A[t.type+"$"+h]||A[h+"$mod"]),$ instanceof Function?(h=$,g=o,m=F||[],t[p]&&(g=t,t[N]=o)):h[0]=="_"?(h=h.slice(1),g=this.closure):g=this.getHandlerForMethod(e,h)}}try{h instanceof Function?d=h.apply(g||e,m):g&&(d=g[h].apply(g,m)),d&&d.then instanceof Function&&d!=T.$promise&&(o.commit&&!n&&T.commit(),d=await d)}catch(p){i=p;break}if(D&&d===!0||!D&&d===!1)break;o.value=d}if(z(o,"end",o),o.commit&&!n&&T.commit(),this.currentEvents.delete(t),this.currentEvents.size==0&&this.emit("idle"),i)throw i}}},Kr=class{on$(t,e,r){let i="on$"+t,n;n=new Gr(e,r);let o=e.capture||!1,l=e.passive,u=o;return l&&(u={passive:l,capture:o}),this[i]instanceof Function?n=this[i](e,r,n,u):this.addEventListener(t,n,u),n}};oe(v.prototype,Kr.prototype);function le(s){let t;return s?(t=s.toIterable)?t.call(s):s:[]}var Ft=Symbol.for("#__init__"),Wr=Symbol.for("#beforeReconcile"),Qr=Symbol.for("#afterReconcile"),it=Symbol.for("##up"),ue=Symbol.for("#afterVisit"),Yr=Symbol.for("#placeChild"),Jr=Symbol(),Xr=Symbol(),Zr=Symbol(),Kn=Symbol(),he=Symbol(),Wn=Symbol(),ce=Symbol(),ts=Symbol(),es=Symbol(),rs=Symbol(),ss=Symbol(),is=Symbol(),ns=Symbol(),os=Symbol(),ls=Symbol(),us=Symbol(),hs=Symbol(),R,nt=Pe(),cs=Symbol(),Pt,Dt;Ur(),vt(),Fr();function wi(s,t,e){let r=0;for(let i of le(s)){if(!i.state)continue;let n=Math.abs(i.x-t),o=Math.abs(i.y-e);Math.max(n,o)==1&&(r+=1)}return r}function Ci(s){let t=[];for(let e of le(s)){let r=wi(s,e.x,e.y),i=r==3||e.state&&r==2;t.push({x:e.x,y:e.y,state:i})}return t}var as=class extends Et{[Ft](t=null){super[Ft](...arguments),this.data=t?t.data:void 0}onclick(){return this.data.state=!this.data.state,this.emit("pause")}render(){var t,e,r,i;let n=20*this.data.x+1,o=20*this.data.y+1;return t=this,t[Wr](),e=r=1,t[Jr]===1||(e=r=0,t[Jr]=1),n===t[Xr]||t.css$var("--eg_ag",t[Xr]=n,"px","l"),o===t[Zr]||t.css$var("--eg_ah",t[Zr]=o,"px","t"),i=this.data.state||void 0,i===t[he]||(r|=2,t[he]=i),i=!this.data.state||void 0,i===t[ce]||(r|=2,t[ce]=i),e||t.on$("click",{onclick:!0},this),(!e||r&2)&&t.flagSelf$("eg-af "+(t[he]?"alive":"")+" "+(t[ce]?"dead":"")),t[Qr](r),t}};Yt("cell",as,{cssid:"eg-ai"});var fs=class extends Et{[Ft](t=null){var e;super[Ft](...arguments),this.cells=t?t.cells:void 0,this.playing=t&&(e=t.playing)!==void 0?e:!0}setup(){var t,e;let r=30,i=30;this.cells=[],e=[];for(let n=r,o=0,l=n-o;l>0?o<n:o>n;l>0?o++:o--){t=[];for(let u=i,c=0,a=u-c;a>0?c<u:c>u;a>0?c++:c--)t.push(this.cells.push({x:o,y:c,state:Math.random()<.2}));e.push(t)}return e}step(){return this.cells=Ci(this.cells)}mount(){var t=this;return Rt(function(){if(t.playing)return t.step()},100)}play(){return this.playing=!0}pause(){return this.playing=!1}render(){var t,e,r,i,n,o=this._ns_||"",l,u,c,a,h,f,F,m,d,g,V,D,kt,p,$;r=this,r[Wr](),i=n=1,r[ts]===1||(i=n=0,r[ts]=1),i||(l=B("header",r,`${o}`,"Game of Life")),(u=r[es])||(r[es]=u=B("div",r,`board ${o}`,null)),(c=r[rs])||(r[rs]=c=Tr(384,u)),a=0,h=c.$;for(let k=0,I=le(this.cells),ae=I.length;k<ae;k++){let Q=I[k];F=m=1,(f=h[a])||(F=m=0,h[a]=f=Qt("cell",c,`${o}`,null)),F||(f[it]=c),Q===f[ss]||(f.data=f[ss]=Q),F||f.on$("pause",{pause:!0},this),F||!f.setup||f.setup(m),f[ue](m),a++}return c[ue](a),(d=r[is])||(r[is]=d=B("div",r,`buttons ${o}`,null)),t=e=null,this.playing?(g=V=1,(t=r[ns])||(g=V=0,r[ns]=t=B("button",null,`${o}`,"Pause")),g||(t[it]=d),g||t.on$("click",{pause:!0},this)):(D=kt=1,(t=r[os])||(D=kt=0,r[os]=t=B("button",null,`${o}`,"Step")),D||(t[it]=d),D||t.on$("click",{step:!0},this),p=$=1,(e=r[ls])||(p=$=0,r[ls]=e=B("button",null,`${o}`,"Play")),p||(e[it]=d),p||e.on$("click",{play:!0},this)),r[us]=d[Yr](t,0,r[us]),r[hs]=d[Yr](e,0,r[hs]),r[Qr](n),r}};Yt("app",fs,{cssns:"eg_ar",cssid:"eg-ar"});ne((Pt=Dt=1,(R=nt[cs])||(Pt=Dt=0,R=nt[cs]=R=Qt("app",null,null,null)),Pt||(R[it]=nt._),Pt||nt.sym||!R.setup||R.setup(Dt),nt.sym||R[ue](Dt),R));
//__FOOT__
//# sourceMappingURL=./__assets__/app/client.js.map
                     